(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21aa6b4c"],{"0160":function(t,e,s){},1681:function(t,e,s){},"1a78":function(t,e,s){},"1e06":function(t,e,s){"use strict";var a=s("58df"),i=s("9d26"),r=s("7560"),o=s("a9ad");const l=Object(a["a"])(o["a"],r["a"]);e["a"]=l.extend().extend({name:"v-timeline-item",inject:["timeline"],props:{color:{type:String,default:"primary"},fillDot:Boolean,hideDot:Boolean,icon:String,iconColor:String,large:Boolean,left:Boolean,right:Boolean,small:Boolean},computed:{hasIcon(){return!!this.icon||!!this.$slots.icon}},methods:{genBody(){return this.$createElement("div",{staticClass:"v-timeline-item__body"},this.$slots.default)},genIcon(){return this.$slots.icon?this.$slots.icon:this.$createElement(i["b"],{props:{color:this.iconColor,dark:!this.theme.isDark,small:this.small}},this.icon)},genInnerDot(){const t=this.setBackgroundColor(this.color);return this.$createElement("div",{staticClass:"v-timeline-item__inner-dot",...t},[this.hasIcon&&this.genIcon()])},genDot(){return this.$createElement("div",{staticClass:"v-timeline-item__dot",class:{"v-timeline-item__dot--small":this.small,"v-timeline-item__dot--large":this.large}},[this.genInnerDot()])},genDivider(){const t=[];return this.hideDot||t.push(this.genDot()),this.$createElement("div",{staticClass:"v-timeline-item__divider"},t)},genOpposite(){return this.$createElement("div",{staticClass:"v-timeline-item__opposite"},this.$slots.opposite)}},render(t){const e=[this.genBody(),this.genDivider()];return this.$slots.opposite&&e.push(this.genOpposite()),t("div",{staticClass:"v-timeline-item",class:{"v-timeline-item--fill-dot":this.fillDot,"v-timeline-item--before":this.timeline.reverse?this.right:this.left,"v-timeline-item--after":this.timeline.reverse?this.left:this.right,...this.themeClasses}},e)}})},"2ff9":function(t,e,s){"use strict";s.r(e);var a=s("8336"),i=s("b0afa"),r=s("ce7e"),o=s("132d"),l=s("71a3"),n=s("c671"),d=s("fe57"),c=s("aac8"),u=s("9a96"),m=function(){var t=this,e=t._self._c;return e("transition",{attrs:{appear:"",mode:"out-in"}},[t.loading?e("progress-circular"):t.user?e("div",{staticClass:"flex-grow-1 mx-lg-8 mx-xl-16"},[e("div",{staticClass:"d-flex flex-wrap mb-3"},[e("div",{staticClass:"d-flex"},[e("router-link",{attrs:{to:"/portfolio/"+t.user.ID}},[e(a["a"],{staticClass:"text-h6 white--text px-4 me-2 mb-1",attrs:{color:"blue"}},[e(o["a"],{staticClass:"me-2"},[t._v("mdi-file-search")]),t._v(" View Portfolio ")],1)],1),e(a["a"],{staticClass:"text-h7 white--text px-2 me-2 mb-1",attrs:{color:"red"},on:{click:function(t){}}},[e(o["a"],{staticClass:"me-2"},[t._v("mdi-file-download")]),t._v(" Download"),e("br"),t._v("PDF ")],1)],1),e(a["a"],{staticClass:"text-h7 white--text px-2 me-2 mb-1",attrs:{color:"orange"},on:{click:function(e){return t.copyLinkClipboard("/portfolio/"+t.user.ID)}}},[e(o["a"],{staticClass:"me-2"},[t._v("mdi-link")]),t._v(" Copy"),e("br"),t._v("Link ")],1)],1),e(i["a"],[e(d["a"],{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(u["a"],{attrs:{color:"primary"}}),e(l["a"],{staticClass:"flex-column flex-md-row flex-grow-1",attrs:{to:"#information"}},[e(o["a"],{staticClass:"me-md-2"},[t._v("mdi-card-account-details")]),e("div",{staticClass:"d-none d-sm-inline text-h7 text-md-h6"},[t._v("Information")])],1),e(l["a"],{staticClass:"flex-column flex-md-row flex-grow-1",attrs:{to:"#skill"}},[e(o["a"],{staticClass:"me-md-2"},[t._v("mdi-head-cog")]),e("div",{staticClass:"d-none d-sm-inline text-h7 text-md-h6"},[t._v("Skills")])],1),e(l["a"],{staticClass:"flex-column flex-md-row flex-grow-1",attrs:{to:"#work"}},[e(o["a"],{staticClass:"me-md-2"},[t._v("mdi-briefcase")]),e("div",{staticClass:"d-none d-sm-inline text-h7 text-md-h6"},[t._v("Experience")])],1),e(l["a"],{staticClass:"flex-column flex-md-row flex-grow-1",attrs:{to:"#education"}},[e(o["a"],{staticClass:"me-md-2"},[t._v("mdi-school")]),e("div",{staticClass:"d-none d-sm-inline text-h7 text-md-h6"},[t._v("Education")])],1),e(l["a"],{staticClass:"flex-column flex-md-row flex-grow-1",attrs:{to:"#certification"}},[e(o["a"],{staticClass:"me-md-2"},[t._v("mdi-file-certificate")]),e("div",{staticClass:"d-none d-sm-inline text-h7 text-md-h6"},[t._v("Certifications")])],1)],1),e(r["a"]),e(c["a"],{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(n["a"],{attrs:{value:"information"}},[e("basic-profile-tab",{ref:"info",attrs:{user:t.user},on:{updateUser:t.updateUser}})],1),e(n["a"],{attrs:{value:"skill"}},[e("skill-tab",{ref:"skill",attrs:{user:t.user}})],1),e(n["a"],{attrs:{value:"work"}},[e("working-history-tab",{ref:"work",attrs:{user:t.user}})],1),e(n["a"],{attrs:{value:"education"}},[e("education-history-tab",{ref:"education",attrs:{user:t.user}})],1),e(n["a"],{attrs:{value:"certification"}},[e("certification-tab",{ref:"certification",attrs:{user:t.user}})],1)],1)],1)],1):e("div",{staticClass:"text--secondary"},[t._v("User not found")])],1)},h=[],v=(s("d9e2"),s("62ad")),p=s("a523"),f=s("2e4b"),g=s("4bd4"),k=s("adda"),x=s("e449"),w=s("8e36"),C=s("67b6"),b=s("43a6"),D=s("6b53"),y=s("0fd9"),I=s("b974"),S=s("8654"),E=s("a844"),W=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"d-sm-none"},[e("div",{staticClass:"text-h4 primary--text font-weight-bold mx-2 mt-2"},[t._v("Information")]),e(r["a"])],1),e("transition",{attrs:{appear:"",mode:"out-in"}},[t.loading?e("progress-circular"):t.userInfo?e(g["a"],{staticClass:"pa-2 pa-md-4",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("transition",{attrs:{mode:"out-in"}},[t.edit?e("div",{key:"2",staticClass:"d-flex align-center"},[e(a["a"],{staticClass:"green white--text text-h6 me-1",attrs:{width:"112",disabled:!t.valid||t.uploading,loading:t.saving},on:{click:t.editUserInfo}},[e(o["a"],{staticClass:"me-1"},[t._v("mdi-content-save")]),t._v(" Save ")],1),e(a["a"],{staticClass:"secondary text-h6 mx-1",attrs:{width:"112",disabled:t.uploading},on:{click:t.resetUserInfo}},[t._v(" Cancel ")]),e("div",{staticClass:"ms-1 text--secondary"},[t._v("* Required")])],1):e("div",{key:"1"},[e(a["a"],{staticClass:"orange white--text text-h6",attrs:{width:"112"},on:{click:function(e){t.edit=!0}}},[e(o["a"],{staticClass:"me-1"},[t._v("mdi-pencil")]),t._v(" Edit ")],1)],1)]),e(y["a"],{staticClass:"flex-wrap-reverse flex-md-wrap",attrs:{"no-gutters":""}},[e(v["a"],{staticClass:"pe-md-4 mt-3",attrs:{cols:"12",md:"8"}},[e(y["a"],{attrs:{"no-gutters":"",align:"center"}},[e(v["a"],{staticClass:"text-label",attrs:{cols:"3"}},[t._v("Full Name "+t._s(t.edit?"*":null))]),e(v["a"],{attrs:{cols:"9"}},[e("transition",{attrs:{mode:"out-in"}},[t.edit?e(S["a"],{attrs:{outlined:"",dense:"","hide-details":"auto",rules:t.rules.required},model:{value:t.userInfo.FullName,callback:function(e){t.$set(t.userInfo,"FullName",e)},expression:"userInfo.FullName"}}):e("div",{staticClass:"text-label font-weight-black",domProps:{textContent:t._s(t.userInfo.FullName)}})],1)],1)],1),e(r["a"],{staticClass:"form-divider"}),e(y["a"],{attrs:{"no-gutters":"",align:"center"}},[e(v["a"],{staticClass:"text-label",attrs:{cols:"3"}},[t._v("Email "+t._s(t.edit?"*":null))]),e(v["a"],{attrs:{cols:"9"}},[e("transition",{attrs:{mode:"out-in"}},[t.edit?e(S["a"],{attrs:{outlined:"",dense:"","hide-details":"auto",rules:t.rules.required},model:{value:t.userInfo.Email,callback:function(e){t.$set(t.userInfo,"Email",e)},expression:"userInfo.Email"}}):e("div",{staticClass:"text-label font-weight-black",domProps:{textContent:t._s(t.userInfo.Email)}})],1)],1)],1),e(r["a"],{staticClass:"form-divider"}),e(y["a"],{attrs:{"no-gutters":"",align:"center"}},[e(v["a"],{staticClass:"text-label",attrs:{cols:"3"}},[t._v("Phone Number")]),e(v["a"],{attrs:{cols:"9"}},[e("transition",{attrs:{mode:"out-in"}},[t.edit?e(S["a"],{attrs:{outlined:"",dense:"","hide-details":"auto"},model:{value:t.userInfo.Phone,callback:function(e){t.$set(t.userInfo,"Phone",e)},expression:"userInfo.Phone"}}):e("div",{staticClass:"text-label font-weight-black",domProps:{textContent:t._s(t.userInfo.Phone)}})],1)],1)],1),e(r["a"],{staticClass:"form-divider"}),e(y["a"],{attrs:{"no-gutters":"",align:"center"}},[e(v["a"],{staticClass:"text-label",attrs:{cols:"3"}},[t._v("Date of Birth "+t._s(t.edit?"*":null))]),e(v["a"],{attrs:{cols:"9"}},[e("transition",{attrs:{mode:"out-in"}},[t.edit?e("div",{key:"1"},[e(x["a"],{attrs:{"offset-y":"",transition:"fade-transition","min-width":"auto","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(S["a"],t._g(t._b({attrs:{value:t.formatDateShort(t.userInfo.Birth),outlined:"",dense:"",readonly:"","hide-details":"auto","prepend-inner-icon":"mdi-calendar",rules:t.rules.required}},"v-text-field",a,!1),s))]}}],null,!1,3526933070),model:{value:t.birthDate,callback:function(e){t.birthDate=e},expression:"birthDate"}},[e(f["a"],{model:{value:t.userInfo.Birth,callback:function(e){t.$set(t.userInfo,"Birth",e)},expression:"userInfo.Birth"}})],1)],1):e("div",{key:"2",staticClass:"text-label font-weight-black",domProps:{textContent:t._s(t.formatDateShort(t.userInfo.Birth))}})])],1)],1),e(r["a"],{staticClass:"form-divider"}),e(y["a"],{attrs:{"no-gutters":"",align:"center"}},[e(v["a"],{staticClass:"text-label",attrs:{cols:"3"}},[t._v("Gender "+t._s(t.edit?"*":null))]),e(v["a"],{attrs:{cols:"9"}},[e("transition",{attrs:{mode:"out-in"}},[t.edit?e(b["a"],{staticClass:"my-0",attrs:{dense:"",row:"","hide-details":"auto",rules:t.rules.required},model:{value:t.userInfo.Gender,callback:function(e){t.$set(t.userInfo,"Gender",e)},expression:"userInfo.Gender"}},[e(C["a"],{attrs:{value:"Male",label:"Male"}}),e(C["a"],{attrs:{value:"Female",label:"Female"}}),e(C["a"],{attrs:{value:"NB",label:"NB"}})],1):e("div",{staticClass:"text-label font-weight-black",domProps:{textContent:t._s(t.userInfo.Gender)}})],1)],1)],1),e(r["a"],{staticClass:"form-divider"}),e(y["a"],{attrs:{"no-gutters":"",align:"center"}},[e(v["a"],{staticClass:"text-label",attrs:{cols:"3"}},[t._v("ID Card Number")]),e(v["a"],{attrs:{cols:"9"}},[e("transition",{attrs:{mode:"out-in"}},[t.edit?e(S["a"],{attrs:{outlined:"",dense:"","hide-details":"auto"},model:{value:t.userInfo.IDCardNumber,callback:function(e){t.$set(t.userInfo,"IDCardNumber",e)},expression:"userInfo.IDCardNumber"}}):e("div",{staticClass:"text-label font-weight-black",domProps:{textContent:t._s(t.userInfo.IDCardNumber)}})],1)],1)],1),e(r["a"],{staticClass:"form-divider"}),e(y["a"],{attrs:{"no-gutters":"",align:"center"}},[e(v["a"],{staticClass:"text-label",attrs:{cols:"3"}},[t._v("Home Address")]),e("transition",{attrs:{mode:"out-in"}},[t.edit?e(v["a"],{key:"1",attrs:{cols:"9"}},[e(E["a"],{attrs:{outlined:"",dense:"",label:"Street & N°","hide-details":"auto",rows:"2"},model:{value:t.userInfo.Address,callback:function(e){t.$set(t.userInfo,"Address",e)},expression:"userInfo.Address"}}),e(I["a"],{staticClass:"my-1",attrs:{outlined:"",dense:"",label:"City","hide-details":"auto",items:t.countryCitySelItems[t.userInfo.Country]},model:{value:t.userInfo.City,callback:function(e){t.$set(t.userInfo,"City",e)},expression:"userInfo.City"}}),e(I["a"],{attrs:{outlined:"",dense:"",label:"Country","hide-details":"auto",items:Object.keys(t.countryCitySelItems)},model:{value:t.userInfo.Country,callback:function(e){t.$set(t.userInfo,"Country",e)},expression:"userInfo.Country"}})],1):e(v["a"],{key:"2",staticClass:"text-label font-weight-black",attrs:{cols:"9"}},[e("div",{domProps:{textContent:t._s(t.userInfo.Address)}}),e("div",{domProps:{textContent:t._s(t.userInfo.City+", "+t.userInfo.Country)}})])],1)],1),e("transition",{attrs:{mode:"out-in"}},[t.edit?t._e():e(y["a"],{attrs:{"no-gutters":"",align:"center"}},[e(v["a"],{attrs:{cols:"12"}},[e(r["a"],{staticClass:"form-divider"})],1),e(v["a"],{staticClass:"text-label",attrs:{cols:"3"}},[t._v("Roles")]),e(v["a"],{staticClass:"d-flex text-label font-weight-black white--text",attrs:{cols:"9"}},[e("div",{staticClass:"blue px-2 rounded-lg me-1"},[t._v("Student")]),t.userInfo.IsTeacher?e("div",{staticClass:"red px-2 rounded-lg me-1"},[t._v("Teacher")]):t._e(),e("div",{staticClass:"green px-2 rounded-lg me-1"},[t._v("HR")])])],1)],1)],1),e(v["a"],{staticClass:"mt-3",attrs:{cols:"12",md:"4"}},[e("image-compressor",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"compressor",attrs:{done:t.getFiles,scale:t.imageData.scale,quality:t.imageData.quality}}),e(D["a"],{staticClass:"rounded-lg",staticStyle:{position:"relative"},attrs:{"aspect-ratio":"1"}},[e("transition",{attrs:{mode:"out-in"}},[t.edit?e("div",{key:"1",staticClass:"pa-1",staticStyle:{position:"absolute",bottom:"0","z-index":"0",width:"100%"}},[e(a["a"],{staticClass:"text-h6 white--text",attrs:{color:"orange",disabled:t.uploading},on:{click:t.getImage}},[e(o["a"],{staticClass:"me-1"},[t._v("mdi-folder")]),t._v(" Browse ")],1),e("transition",{attrs:{mode:"out-in"}},[t.imageData.img?e(a["a"],{staticClass:"text-h6 ms-1",attrs:{width:"128",color:"success",loading:t.uploading},on:{click:t.uploadImage}},[e(o["a"],{staticClass:"me-1"},[t._v("mdi-upload")]),t._v(" Upload ")],1):t._e()],1)],1):e("div",{key:"2"})]),e("transition",{attrs:{mode:"out-in"}},[t.imageData.img?e(k["a"],{key:t.imageData.original.name,attrs:{fluid:"","fill-height":"","aspect-ratio":"1",position:"top",src:t.imageData.img}}):t.userInfo.picture?e(k["a"],{attrs:{src:t.userInfo.picture}}):e(p["a"],{staticClass:"flex-column justify-center align-center secondary text-h4 font-weight-bold white--text",attrs:{"fill-height":""}},[e(o["a"],{staticClass:"text-h1 white--text"},[t._v("mdi-account")]),t._v(" No Image ")],1)],1)],1),e("transition",{attrs:{mode:"out-in"}},[t.uploading?e(w["a"],{staticClass:"mt-1 rounded-lg",attrs:{value:t.uploadProgress}}):t._e()],1)],1)],1)],1):t._e()],1)],1)},M=[],$=(s("13d5"),function(){var t=this,e=t._self._c;return e("input",{attrs:{type:"file",accept:"image/*"},on:{change:t.onChange}})}),P=[],N={props:{scale:{type:Number,default:100},quality:{type:Number,default:100},done:{type:Function,default:()=>{}}},data(){return{file:{},result:{},reader:{},imgSrc:""}},watch:{scale(){return this.redraw()},quality(){return this.redraw()}},methods:{onChange(t){let[e]=t.target.files;return!!e&&(e.type.indexOf("image")<0?this.showToast("error","File is not an image."):(this.file=e,this.reader=new FileReader,this.reader.readAsDataURL(this.file),void(this.reader.onload=this.fileOnLoad)))},drawImage(t){let e=this.result.file.name;e=e.substr(0,e.lastIndexOf("."))+".jpeg",this.canvas=document.createElement("canvas");const s=new Image;s.src=t,s.onload=()=>{const t=this.scale/100,a=s.width*t,i=s.height*t;this.canvas.setAttribute("width",a),this.canvas.setAttribute("height",i),this.canvas.getContext("2d").drawImage(s,0,0,a,i);const r=this.canvas.toDataURL("image/jpeg",this.quality?this.quality/100:1);let o=new File([r],e);fetch(r).then(t=>t.blob()).then(t=>{this.done({canvas:this.canvas,original:this.result,compressed:{blob:window.URL.createObjectURL(t),base64:r,name:e,file:o,size:Math.round(o.size/1024)+" kB",type:"image/jpeg"}})})}},redraw(){this.result.base64&&this.drawImage(this.result.base64)},fileOnLoad(){let{file:t}=this;this.result={name:t.name,type:t.type,size:Math.round(t.size/1024)+"  kB",base64:this.reader.result,file:t},this.drawImage(this.result.base64)}}},O=N,U=s("2877"),A=Object(U["a"])(O,$,P,!1,null,null,null),T=A.exports,Y={components:{ImageCompressor:T},props:["user"],data(){return{loading:!0,edit:!1,valid:!1,rules:{required:[t=>!!t||"Required."]},birthDate:null,countryCitySelItems:{},imageData:{img:null,scale:100,quality:50,originalSize:!0,original:{},compressed:{}},userInfo:_.cloneDeep(this.user),uploadProgress:0,uploading:!1,saving:!1}},created(){this.initialize()},methods:{async initialize(){this.getCountryCities()},async getCountryCities(){fetch("https://countriesnow.space/api/v0.1/countries").then(t=>t.json().then(t=>{this.loading=!1,this.countryCitySelItems=t.data.reduce((t,e)=>(t[e.country]=e.cities,t),{})})).catch(t=>{this.loading=!1,this.showToast("error",["Error getting Countries and Cities.",t.message])})},getImage(){this.$refs.compressor.$el.click()},getFiles(t){this.imageData.img=t.compressed.blob,this.imageData.original=t.original,this.imageData.compressed=t.compressed},resetUserInfo(){this.userInfo=_.cloneDeep(this.user),this.edit=!1,this.imageData.img=null},async uploadImage(){this.uploading=!0;this.setName(this.imageData.original.name)},setName(t){return t=+new Date+"_"+(t.substring(0,t.lastIndexOf("."))||t),{original:t+".jpg",small:t+"_small.jpg"}},async editUserInfo(){this.saving=!0,await fetch(this.dbPathUrl(["user",this.user.ID]),{method:"PUT",headers:this.dbAuthHeaders,body:JSON.stringify([{...this.userInfo,Birth:this.formatDateTime(this.userInfo.Birth)}])}).then(t=>{this.saving=!1,this.edit=!1,this.$emit("refreshUser",this.userInfo),this.showToast("success","User Information updated.")}).catch(t=>{this.saving=!1,this.edit=!1,this.showToast("error",["Error updating User Information.",t.message])})}}},q=Y,B=Object(U["a"])(q,W,M,!1,null,"3406bb70",null),H=B.exports,G=s("8414"),j=s("1e06"),L=function(){var t=this,e=t._self._c;return t.userSkills?e("div",[e("div",{staticClass:"d-sm-none"},[e("div",{staticClass:"text-h4 primary--text font-weight-bold mx-2 mt-2"},[t._v("Skills")]),e(r["a"])],1),t._v(" WIP "),e("transition",{attrs:{appear:"",mode:"out-in"}},[t.loading?e("progress-circular"):e(G["a"],{staticClass:"ms-md-2 pt-2 pt-md-4 pe-2 pe-md-4",attrs:{"align-top":"",dense:""}},[e("transition-group",{attrs:{appear:""}},[e(j["a"],{key:"newSkill",staticClass:"pb-2 pb-md-4",attrs:{small:"",color:"green","hide-dot":!t.newSkillModes.edit}},[e("transition",{attrs:{mode:"out-in"}},[t.newSkillModes.edit?e(g["a"],{staticClass:"ms-md-2",model:{value:t.newSkillModes.valid,callback:function(e){t.$set(t.newSkillModes,"valid",e)},expression:"newSkillModes.valid"}},[e("div",{staticClass:"d-flex align-center"},[e(a["a"],{staticClass:"white--text text-h6 me-1",attrs:{color:"green",disabled:!t.newSkillModes.valid,loading:t.newSkillModes.saving},on:{click:t.addNewSkill}},[e(o["a"],{staticClass:"me-1"},[t._v("mdi-content-save")]),t._v(" Save ")],1),e(a["a"],{staticClass:"text-h6 mx-1",attrs:{color:"secondary",disabled:t.newSkillModes.saving},on:{click:t.resetNewSkill}},[t._v(" Cancel ")]),e("div",{staticClass:"ms-1 text--secondary"},[t._v("* Required")])],1),e("div",[t._v(" FORM WIP ")])]):e(a["a"],{staticClass:"text-h6 white--text ms-md-2",attrs:{color:"green"},on:{click:function(e){t.newSkillModes.edit=!0}}},[e(o["a"],{staticClass:"me-1"},[t._v("mdi-plus")]),t._v(" Add ")],1)],1)],1),t._l(t.sortedUserSkills,(function(s){return t.userSkills?e(j["a"],{key:s.ID,staticClass:"pb-2 pb-md-4",attrs:{small:"",color:t.userSkillsModes[s.ID].edit?"orange":"primary"}},[e("transition",{attrs:{mode:"out-in"}},[t.userSkillsModes[s.ID].edit?e(g["a"],{staticClass:"ms-md-2",model:{value:t.userSkillsModes[s.ID].valid,callback:function(e){t.$set(t.userSkillsModes[s.ID],"valid",e)},expression:"userSkillsModes[skill.ID].valid"}}):e("div",{staticClass:"ms-md-2"},[e(r["a"])],1)],1)],1):t._e()}))],2)],1)],1)],1):t._e()},F=[],R={props:["user"],data(){return{loading:!0,userSkills:{},userSkillsOriginal:{},userSkillsModes:{},newSkill:null,newSkillOriginal:{UserID:this.user.ID},newSkillModes:{edit:!1,valid:!1,saving:!1},rules:{required:[t=>!!t||"Required."]}}},computed:{sortedUserSkills(){}},created(){this.getUserSkills(),this.newSkill=_.cloneDeep(this.newSkillOriginal)},methods:{async getUserSkills(){await fetch(this.dbPathUrl(["skill","user",this.user.ID]),{headers:this.dbAuthHeaders}).then(t=>t.json().then(t=>{this.loading=!1,t.forEach(t=>{this.$set(this.userSkills,t.ID,{...t}),this.$set(this.userSkillsModes,t.ID,{edit:!1,valid:!0,saving:!1})}),this.userSkillsOriginal=_.cloneDeep(this.userSkills)})).catch(t=>{this.loading=!1,this.showToast("error",["Error getting User Skills.",t.message])})},resetNewSkill(){this.newSkill=_.cloneDeep(this.newSkillOriginal),this.newSkillModes.edit=!1},async addNewSkill(){const t=crypto.randomUUID(),e={..._.cloneDeep(this.newSkill),ID:t};this.$set(this.userSkills,t,e),this.$set(this.userSkillsModes,t,{edit:!1,valid:!0,saving:!1}),this.userSkillsOriginal[t]=_.cloneDeep(e),this.resetNewSkill()},resetSkill(t){this.userSkills[t]=_.cloneDeep(this.userSkillsOriginal[t]),this.userSkillsModes[t].edit=!1},async editSkill(t){this.userSkillsModes[t].saving=!0,this.userSkillsOriginal[t]=_.cloneDeep(this.userSkills[t]),this.userSkillsModes[t].saving=!1,this.userSkillsModes[t].edit=!1},async deleteSkill(t){confirm("Are you sure?")&&(this.$delete(this.userSkills,t),this.$delete(this.userSkillsOriginal,t))}}},z=R,J=Object(U["a"])(z,L,F,!1,null,"7f4d763e",null),V=J.exports,K=s("2fa4"),Q=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"d-sm-none"},[e("div",{staticClass:"text-h4 primary--text font-weight-bold mx-2 mt-2"},[t._v("Experience")]),e(r["a"])],1),e("transition",{attrs:{appear:"",mode:"out-in"}},[t.loading?e("progress-circular"):e("div",[t.sortedUserWorks.length?e(y["a"],{attrs:{"no-gutters":""}},[e(v["a"],{attrs:{cols:"12",sm:"8",md:"9"}},[e("div",{staticClass:"d-flex text-center justify-space-around py-2"},[e("div",{staticClass:"d-flex flex-column flex-md-row align-center red--text"},[e("div",{staticClass:"font-weight-bold text-h4 me-md-2",domProps:{textContent:t._s(t.workTimes.count)}}),e("div",{staticClass:"font-weight-bold text-h6 text-md-start my-auto",staticStyle:{"line-height":"normal"}},[t._v("Positions")])]),e("div",{staticClass:"d-flex flex-column flex-md-row align-center blue--text"},[e("div",{staticClass:"font-weight-bold text-h4 me-md-2",domProps:{textContent:t._s(t.roundWithString(t.workTimes.total/365,"+"))}}),e("div",{staticClass:"font-weight-bold text-h6 text-md-start my-auto",staticStyle:{"line-height":"normal"}},[t._v("Work"),e("br"),t._v("Years")])]),e("div",{staticClass:"d-flex flex-column flex-md-row align-center green--text"},[e("div",{staticClass:"font-weight-bold text-h4 me-md-2",domProps:{textContent:t._s(t.roundWithString(t.workTimes.average/365,"+"))}}),e("div",{staticClass:"font-weight-bold text-h6 text-md-start my-auto",staticStyle:{"line-height":"normal"}},[t._v("Average"),e("br"),t._v("Years")])])]),e(r["a"]),e("apexchart",{attrs:{type:"rangeBar",height:"192",options:t.chartOptions,series:t.sortedChartSeries}})],1),e(r["a"]),e(r["a"],{attrs:{vertical:""}}),e(v["a"],{staticClass:"d-flex align-center justify-center py-2",attrs:{cols:"12",sm:"4",md:"3"}},[e("apexchart",{attrs:{type:"donut",width:"100%",options:t.donutOptions,series:t.donutSeries}})],1)],1):t._e(),e(r["a"]),e(G["a"],{staticClass:"ms-md-2 pt-3 pt-md-4 pe-2 pe-md-4",attrs:{"align-top":"",dense:""}},[e("transition-group",{attrs:{appear:""}},[e(j["a"],{key:"newWork",staticClass:"pb-3 pb-md-4",attrs:{small:"",color:"green","hide-dot":!t.newWorkModes.edit}},[e("transition",{attrs:{mode:"out-in"}},[t.newWorkModes.edit?e(g["a"],{staticClass:"d-flex flex-column ms-md-2",model:{value:t.newWorkModes.valid,callback:function(e){t.$set(t.newWorkModes,"valid",e)},expression:"newWorkModes.valid"}},[e(S["a"],{staticClass:"mb-1",attrs:{outlined:"",dense:"",label:"Position *","hide-details":"auto",rules:t.rules.required},model:{value:t.newWork.Position,callback:function(e){t.$set(t.newWork,"Position",e)},expression:"newWork.Position"}}),e(S["a"],{staticClass:"mb-1",attrs:{outlined:"",dense:"",label:"Company Name *","hide-details":"auto",rules:t.rules.required},model:{value:t.newWork.CompanyName,callback:function(e){t.$set(t.newWork,"CompanyName",e)},expression:"newWork.CompanyName"}}),e("div",{staticClass:"d-flex mb-1"},[e(x["a"],{attrs:{transition:"fade-transition","min-width":"auto","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(S["a"],t._g(t._b({staticClass:"me-1",attrs:{outlined:"",dense:"",readonly:"",label:"Start Date *","hide-details":"auto","prepend-inner-icon":"mdi-calendar",rules:t.rules.required},model:{value:t.newWork.StartDate,callback:function(e){t.$set(t.newWork,"StartDate",e)},expression:"newWork.StartDate"}},"v-text-field",a,!1),s))]}}],null,!1,4178203654),model:{value:t.newWorkModes.modelStartDate,callback:function(e){t.$set(t.newWorkModes,"modelStartDate",e)},expression:"newWorkModes.modelStartDate"}},[e(f["a"],{model:{value:t.newWork.StartDate,callback:function(e){t.$set(t.newWork,"StartDate",e)},expression:"newWork.StartDate"}})],1),e(x["a"],{attrs:{transition:"fade-transition","min-width":"auto","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:a}){return[e(S["a"],t._g(t._b({staticClass:"ms-1",attrs:{outlined:"",dense:"",readonly:"",label:"End Date","hide-details":"auto","prepend-inner-icon":"mdi-calendar"},model:{value:t.newWork.EndDate,callback:function(e){t.$set(t.newWork,"EndDate",e)},expression:"newWork.EndDate"}},"v-text-field",a,!1),s))]}}],null,!1,74770795),model:{value:t.newWorkModes.modelEndDate,callback:function(e){t.$set(t.newWorkModes,"modelEndDate",e)},expression:"newWorkModes.modelEndDate"}},[e(f["a"],{model:{value:t.newWork.EndDate,callback:function(e){t.$set(t.newWork,"EndDate",e)},expression:"newWork.EndDate"}})],1)],1),e(S["a"],{staticClass:"mb-1",attrs:{outlined:"",dense:"",label:"City *","hide-details":"auto",rules:t.rules.required},model:{value:t.newWork.City,callback:function(e){t.$set(t.newWork,"City",e)},expression:"newWork.City"}}),e(E["a"],{staticClass:"mb-1",attrs:{outlined:"",dense:"",label:"Description","hide-details":"auto",rows:"2"},model:{value:t.newWork.Description,callback:function(e){t.$set(t.newWork,"Description",e)},expression:"newWork.Description"}}),e("div",{staticClass:"d-flex align-center"},[e(a["a"],{staticClass:"white--text text-h6 me-1",attrs:{color:"green",disabled:!t.newWorkModes.valid,loading:t.newWorkModes.saving},on:{click:t.addNewWork}},[e(o["a"],{staticClass:"me-1"},[t._v("mdi-content-save")]),t._v(" Save ")],1),e(a["a"],{staticClass:"text-h6 mx-1",attrs:{color:"secondary",disabled:t.newWorkModes.saving},on:{click:t.resetNewWork}},[t._v(" Cancel ")]),e("div",{staticClass:"ms-1 text--secondary"},[t._v("* Required")])],1)],1):e(a["a"],{staticClass:"text-h6 white--text ms-md-2",attrs:{color:"green"},on:{click:function(e){t.newWorkModes.edit=!0}}},[e(o["a"],{staticClass:"me-1"},[t._v("mdi-plus")]),t._v(" Add ")],1)],1)],1),t._l(t.sortedUserWorks,(function(s){return e(j["a"],{key:s.ID,staticClass:"pb-3 pb-md-4",attrs:{small:"",color:t.userWorksModes[s.ID].edit?"orange":t.chartColorsNames[t.workColors[s.ID]]}},[e("transition",{attrs:{mode:"out-in"}},[t.userWorksModes[s.ID].edit?e(g["a"],{staticClass:"ms-md-2",model:{value:t.userWorksModes[s.ID].valid,callback:function(e){t.$set(t.userWorksModes[s.ID],"valid",e)},expression:"userWorksModes[work.ID].valid"}},[e(S["a"],{staticClass:"mb-1",attrs:{outlined:"",dense:"",label:"Position *","hide-details":"auto",rules:t.rules.required},model:{value:t.userWorks[s.ID].Position,callback:function(e){t.$set(t.userWorks[s.ID],"Position",e)},expression:"userWorks[work.ID].Position"}}),e(S["a"],{staticClass:"mb-1",attrs:{outlined:"",dense:"",label:"Company Name *","hide-details":"auto",rules:t.rules.required},model:{value:t.userWorks[s.ID].CompanyName,callback:function(e){t.$set(t.userWorks[s.ID],"CompanyName",e)},expression:"userWorks[work.ID].CompanyName"}}),e("div",{staticClass:"d-flex mb-1"},[e(x["a"],{attrs:{transition:"fade-transition","min-width":"auto","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:i}){return[e(S["a"],t._g(t._b({staticClass:"me-1",attrs:{outlined:"",dense:"",readonly:"",label:"Start Date *","hide-details":"auto","prepend-inner-icon":"mdi-calendar",rules:t.rules.required},model:{value:t.userWorks[s.ID].StartDate,callback:function(e){t.$set(t.userWorks[s.ID],"StartDate",e)},expression:"userWorks[work.ID].StartDate"}},"v-text-field",i,!1),a))]}}],null,!0),model:{value:t.userWorksModes[s.ID].modelStartDate,callback:function(e){t.$set(t.userWorksModes[s.ID],"modelStartDate",e)},expression:"userWorksModes[work.ID].modelStartDate"}},[e(f["a"],{model:{value:t.userWorks[s.ID].StartDate,callback:function(e){t.$set(t.userWorks[s.ID],"StartDate",e)},expression:"userWorks[work.ID].StartDate"}})],1),e(x["a"],{attrs:{transition:"fade-transition","min-width":"auto","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:i}){return[e(S["a"],t._g(t._b({staticClass:"ms-1",attrs:{outlined:"",dense:"",readonly:"",label:"End Date","hide-details":"auto","prepend-inner-icon":"mdi-calendar"},model:{value:t.userWorks[s.ID].EndDate,callback:function(e){t.$set(t.userWorks[s.ID],"EndDate",e)},expression:"userWorks[work.ID].EndDate"}},"v-text-field",i,!1),a))]}}],null,!0),model:{value:t.userWorksModes[s.ID].modelEndDate,callback:function(e){t.$set(t.userWorksModes[s.ID],"modelEndDate",e)},expression:"userWorksModes[work.ID].modelEndDate"}},[e(f["a"],{model:{value:t.userWorks[s.ID].EndDate,callback:function(e){t.$set(t.userWorks[s.ID],"EndDate",e)},expression:"userWorks[work.ID].EndDate"}})],1)],1),e(S["a"],{staticClass:"mb-1",attrs:{outlined:"",dense:"",label:"City *","hide-details":"auto",rules:t.rules.required},model:{value:t.userWorks[s.ID].City,callback:function(e){t.$set(t.userWorks[s.ID],"City",e)},expression:"userWorks[work.ID].City"}}),e(E["a"],{staticClass:"mb-1",attrs:{outlined:"",dense:"",label:"Description *","hide-details":"auto",rows:"2"},model:{value:t.userWorks[s.ID].Description,callback:function(e){t.$set(t.userWorks[s.ID],"Description",e)},expression:"userWorks[work.ID].Description"}}),e("div",{staticClass:"d-flex align-center"},[e(a["a"],{staticClass:"white--text text-h6 me-1",attrs:{color:"green",disabled:!t.userWorksModes[s.ID].valid,loading:t.userWorksModes[s.ID].saving},on:{click:function(e){return t.editWork(s.ID)}}},[e(o["a"],{staticClass:"me-1"},[t._v("mdi-content-save")]),t._v(" Save ")],1),e(a["a"],{staticClass:"text-h6 mx-1",attrs:{color:"secondary"},on:{click:function(e){return t.resetWork(s.ID)}}},[t._v(" Cancel ")]),e("div",{staticClass:"ms-1 text--secondary"},[t._v("* Required")])],1)],1):e("div",{staticClass:"ms-md-2"},[e("div",{staticClass:"d-flex align-start"},[e("div",[e("div",{staticClass:"text-h6",staticStyle:{"line-height":"normal"},domProps:{textContent:t._s(s.Position)}}),e("div",{staticClass:"text-h7 font-weight-bold mb-1",staticStyle:{"line-height":"normal"},domProps:{textContent:t._s(s.CompanyName)}})]),e(K["a"]),e(a["a"],{staticClass:"me-1",attrs:{icon:"",small:"",color:"orange"},on:{click:function(e){t.userWorksModes[s.ID].edit=!0}}},[e(o["a"],[t._v("mdi-pencil")])],1),e(a["a"],{attrs:{icon:"",small:"",color:"red"},on:{click:function(e){return t.deleteWork(s.ID)}}},[e(o["a"],[t._v("mdi-delete")])],1)],1),e("div",{staticClass:"d-flex text-h7 text--secondary"},[t._v(" "+t._s(t.formatDateMonthYear(s.StartDate))+" — "+t._s(s.EndDate?t.formatDateMonthYear(s.EndDate):"Present")+" "),e("div",{staticClass:"mx-1 font-weight-black",domProps:{textContent:t._s("·")}}),t._v(" "+t._s(t.formatDuration(s.StartDate,s.EndDate))+" ")]),e("div",{staticClass:"text-h7 text--secondary",domProps:{textContent:t._s(s.City)}}),s.Description?e("div",{staticClass:"mt-1",domProps:{textContent:t._s(s.Description)}}):t._e(),e(r["a"],{staticClass:"mt-1"})],1)],1)],1)}))],2)],1)],1)],1)],1)},X=[],Z={props:["user"],data(){return{loading:!0,userWorks:{},userWorksOriginal:{},userWorksModes:{},newWork:null,newWorkOriginal:{UserID:this.user.ID,Position:null,CompanyName:null,StartDate:null,EndDate:null,City:null,Description:null,HotelID:null},newWorkModes:{edit:!1,valid:!1,saving:!1,modelStartDate:null,modelEndDate:null},rules:{required:[t=>!!t||"Required."]},chartColorsHex:["#008FFB","#1DE9B6","#E040FB","#FFC107","#F44336"],chartColorsNames:["blue","teal accent-3","purple accent-2","amber","red"],workColors:{},chartSeries:[],chartOptions:{chart:{type:"rangeBar",toolbar:{show:!1,tools:{download:!1,selection:!1,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,reset:!1}}},plotOptions:{bar:{horizontal:!0,distributed:!0,dataLabels:{hideOverflowingLabels:!1}}},dataLabels:{enabled:!1,style:{colors:["#f3f4f5","#fff"]}},xaxis:{type:"datetime"},yaxis:{show:!1},grid:{row:{colors:["#f3f4f5","#fff"],opacity:1}}},donutOptions:{chart:{type:"donut"},dataLabels:{enabled:!0,style:{fontFamily:"Montserrat, sans-serif",fontSize:"1.5em",fontWeight:"bold"},dropShadow:{top:0,left:0,opacity:1}},labels:["Archipelago","Other"],legend:{position:"bottom",fontFamily:"Montserrat, sans-serif",fontSize:"17.4px",fontWeight:"bold"},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}}}}},computed:{sortedUserWorks(){return Object.values(this.userWorks).sort((t,e)=>new Date(e.StartDate)-new Date(t.StartDate))},workTimes(){const t=Object.values(this.userWorks),e=t.length;let s=0,a=0;t.forEach((i,r)=>{const o=new Date(i.StartDate),l=i.EndDate?new Date(i.EndDate):new Date;if(s+=Math.ceil((l-o)/864e5),r!==e-1){const e=t[r+1],s=new Date(e.StartDate),i=e.EndDate?new Date(e.EndDate):new Date;a+=Math.max(0,Math.ceil(Math.min(l,i)-Math.max(o,s))/864e5+1)}});const i=1e3;return{count:e,archi:i,total:s-a,average:Math.round(s/e)}},sortedChartSeries(){return[{data:this.sortedUserWorks.map((t,e)=>({x:`${t.Position} - ${t.CompanyName}`,y:[new Date(t.StartDate).getTime(),(t.EndDate?new Date(t.EndDate):new Date).getTime()],fillColor:this.chartColorsHex[this.workColors[t.ID]]}))}]},donutSeries(){return[this.workTimes.archi,this.workTimes.total-this.workTimes.archi]}},created(){this.getUserWorks(),this.newWork=_.cloneDeep(this.newWorkOriginal)},methods:{async getUserWorks(){await fetch(this.dbPathUrl(["employment_history","user",this.user.ID]),{headers:this.dbAuthHeaders}).then(t=>t.json().then(t=>{this.loading=!1,t.forEach((t,e)=>{const s=parseInt(t.EndDate);this.$set(this.userWorks,t.ID,{...t,StartDate:this.formatDate(t.StartDate),EndDate:s>1?this.formatDate(t.EndDate):null}),this.$set(this.userWorksModes,t.ID,{edit:!1,valid:!0,saving:!1,modelStartDate:null,modelEndDate:null}),this.$set(this.workColors,t.ID,e%this.chartColorsHex.length)}),this.userWorksOriginal=_.cloneDeep(this.userWorks)})).catch(t=>{this.loading=!1,this.showToast("error",["Error getting User Employment History.",t.message])})},resetNewWork(){this.newWork=_.cloneDeep(this.newWorkOriginal),this.newWorkModes.edit=!1},async addNewWork(){const t=crypto.randomUUID(),e={..._.cloneDeep(this.newWork),ID:t};this.$set(this.userWorks,t,e),this.$set(this.userWorksModes,t,{edit:!1,valid:!0,saving:!1,modelStartDate:null,modelEndDate:null}),this.$set(this.workColors,t,Object.keys(this.workColors).length%this.chartColorsHex.length),this.userWorksOriginal[t]=_.cloneDeep(e),this.resetNewWork()},resetWork(t){this.userWorks[t]=_.cloneDeep(this.userWorksOriginal[t]),this.userWorksModes[t].edit=!1},async editWork(t){this.userWorksModes[t].saving=!0,this.userWorksOriginal[t]=_.cloneDeep(this.userWorks[t]),this.userWorksModes[t].saving=!1,this.userWorksModes[t].edit=!1},async deleteWork(t){confirm("Are you sure?")&&(this.$delete(this.userWorks,t),this.$delete(this.userWorksOriginal,t))}}},tt=Z,et=Object(U["a"])(tt,Q,X,!1,null,null,null),st=et.exports,at=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"d-sm-none"},[e("div",{staticClass:"text-h4 primary--text font-weight-bold mx-2 mt-3"},[t._v("Education")]),e(r["a"])],1),e("transition",{attrs:{appear:"",mode:"out-in"}},[t.loading?e("progress-circular"):e(G["a"],{staticClass:"ms-md-2 pt-3 pt-md-4 pe-2 pe-md-4",attrs:{"align-top":"",dense:""}},[e("transition-group",{attrs:{appear:""}},[e(j["a"],{key:"newEdu",staticClass:"pb-3 pb-md-4",attrs:{small:"",color:"green","hide-dot":!t.newEduModes.edit}},[e("transition",{attrs:{mode:"out-in"}},[t.newEduModes.edit?e(g["a"],{staticClass:"ms-md-2",model:{value:t.newEduModes.valid,callback:function(e){t.$set(t.newEduModes,"valid",e)},expression:"newEduModes.valid"}},[e(S["a"],{staticClass:"mb-1",attrs:{outlined:"",dense:"",label:"School Name *","hide-details":"auto",rules:t.rules.required},model:{value:t.newEdu.SchoolName,callback:function(e){t.$set(t.newEdu,"SchoolName",e)},expression:"newEdu.SchoolName"}}),e(y["a"],{staticClass:"mb-1",attrs:{"no-gutters":""}},[e(v["a"],{staticClass:"pe-md-1 mb-1 mb-md-0",attrs:{cols:"12",md:"6"}},[e(I["a"],{attrs:{outlined:"",dense:"",label:"Level / Degree *","hide-details":"auto","item-text":"text","item-value":"value",items:t.eduLevelsSelItems,rules:t.rules.required},model:{value:t.newEdu.EducationLevel,callback:function(e){t.$set(t.newEdu,"EducationLevel",e)},expression:"newEdu.EducationLevel"}})],1),e(v["a"],{staticClass:"ps-md-1",attrs:{cols:"12",md:"6"}},[e(S["a"],{attrs:{outlined:"",dense:"",label:"GPA","hide-details":"auto",type:"number",rules:t.rules.isGPA},model:{value:t.newEdu.GPA,callback:function(e){t.$set(t.newEdu,"GPA",e)},expression:"newEdu.GPA"}})],1)],1),e(y["a"],{staticClass:"mb-1",attrs:{"no-gutters":""}},[e(v["a"],{staticClass:"pe-1",attrs:{cols:"6"}},[e(S["a"],{attrs:{outlined:"",dense:"",label:"Start Year *","hide-details":"auto",type:"number",rules:t.rules.isStartYear},model:{value:t.newEdu.StartYear,callback:function(e){t.$set(t.newEdu,"StartYear",e)},expression:"newEdu.StartYear"}})],1),e(v["a"],{staticClass:"ps-1",attrs:{cols:"6"}},[e(S["a"],{attrs:{outlined:"",dense:"",label:"End Year","hide-details":"auto",type:"number",rules:t.rules.isEndYear},model:{value:t.newEdu.EndYear,callback:function(e){t.$set(t.newEdu,"EndYear",e)},expression:"newEdu.EndYear"}})],1)],1),e("div",{staticClass:"d-flex align-center"},[e(a["a"],{staticClass:"white--text text-h6 me-1",attrs:{color:"green",disabled:!t.newEduModes.valid,loading:t.newEduModes.saving},on:{click:t.addNewEducation}},[e(o["a"],{staticClass:"me-1"},[t._v("mdi-content-save")]),t._v(" Save ")],1),e(a["a"],{staticClass:"text-h6 mx-1",attrs:{color:"secondary",disabled:t.newEduModes.saving},on:{click:t.resetNewEducation}},[t._v(" Cancel ")]),e("div",{staticClass:"ms-1 text--secondary"},[t._v("* Required")])],1)],1):e(a["a"],{staticClass:"text-h6 white--text ms-md-2",attrs:{color:"green"},on:{click:function(e){t.newEduModes.edit=!0}}},[e(o["a"],{staticClass:"me-1"},[t._v("mdi-plus")]),t._v(" Add ")],1)],1)],1),t._l(t.sortedUserEdus,(function(s){return e(j["a"],{key:s.ID,staticClass:"pb-3 pb-md-4",attrs:{small:"",color:t.userEdusModes[s.ID].edit?"orange":"primary"}},[e("transition",{attrs:{mode:"out-in"}},[t.userEdusModes[s.ID].edit?e(g["a"],{staticClass:"ms-md-2",model:{value:t.userEdusModes[s.ID].valid,callback:function(e){t.$set(t.userEdusModes[s.ID],"valid",e)},expression:"userEdusModes[edu.ID].valid"}},[e(S["a"],{staticClass:"mb-1",attrs:{outlined:"",dense:"",label:"School Name *","hide-details":"auto",rules:t.rules.required},model:{value:s.SchoolName,callback:function(e){t.$set(s,"SchoolName",e)},expression:"edu.SchoolName"}}),e(y["a"],{staticClass:"mb-1",attrs:{"no-gutters":""}},[e(v["a"],{staticClass:"pe-md-1 mb-1 mb-md-0",attrs:{cols:"12",md:"6"}},[e(I["a"],{attrs:{outlined:"",dense:"",label:"Level / Degree *","item-text":"text","item-value":"value","hide-details":"auto",items:t.eduLevelsSelItems,rules:t.rules.required},model:{value:s.EducationLevel,callback:function(e){t.$set(s,"EducationLevel",e)},expression:"edu.EducationLevel"}})],1),e(v["a"],{staticClass:"ps-md-1",attrs:{cols:"12",md:"6"}},[e(S["a"],{attrs:{outlined:"",dense:"",label:"GPA","hide-details":"auto",type:"number",rules:t.rules.isGPA},model:{value:s.GPA,callback:function(e){t.$set(s,"GPA",e)},expression:"edu.GPA"}})],1)],1),e(y["a"],{staticClass:"mb-1",attrs:{"no-gutters":""}},[e(v["a"],{staticClass:"pe-1",attrs:{cols:"6"}},[e(S["a"],{attrs:{outlined:"",dense:"",label:"Start Year *","hide-details":"auto",rules:t.rules.isStartYear},model:{value:s.StartYear,callback:function(e){t.$set(s,"StartYear",e)},expression:"edu.StartYear"}})],1),e(v["a"],{staticClass:"ps-1",attrs:{cols:"6"}},[e(S["a"],{attrs:{outlined:"",dense:"",label:"End Year","hide-details":"auto",rules:t.rules.isEndYear},model:{value:s.EndYear,callback:function(e){t.$set(s,"EndYear",e)},expression:"edu.EndYear"}})],1)],1),e("div",{staticClass:"d-flex align-center"},[e(a["a"],{staticClass:"white--text text-h6 me-1",attrs:{color:"green",disabled:!t.userEdusModes[s.ID].valid,loading:t.userEdusModes[s.ID].saving},on:{click:function(e){return t.editEducation(s.ID)}}},[e(o["a"],{staticClass:"me-1"},[t._v("mdi-content-save")]),t._v(" Save ")],1),e(a["a"],{staticClass:"text-h6 mx-1",attrs:{color:"secondary"},on:{click:function(e){return t.resetEducation(s.ID)}}},[t._v(" Cancel ")]),e("div",{staticClass:"ms-1 text--secondary"},[t._v("* Required")])],1)],1):e("div",{staticClass:"ms-md-2"},[e("div",{staticClass:"d-flex align-start"},[e("div",{staticClass:"text-h6",staticStyle:{"line-height":"normal","margin-bottom":"4px"},domProps:{textContent:t._s(s.SchoolName)}}),e(K["a"]),e(a["a"],{staticClass:"me-1",attrs:{icon:"",small:"",color:"orange"},on:{click:function(e){t.userEdusModes[s.ID].edit=!0}}},[e(o["a"],[t._v("mdi-pencil")])],1),e(a["a"],{attrs:{icon:"",small:"",color:"red"},on:{click:function(e){return t.deleteEducation(s.ID)}}},[e(o["a"],[t._v("mdi-delete")])],1)],1),e("div",[e("div",{staticClass:"d-flex"},["other"!==s.EducationLevel?e("div",{staticClass:"text-h7",domProps:{textContent:t._s(t.eduLevelsNames[s.EducationLevel])}}):t._e(),"other"!==s.EducationLevel&&s.GPA&&s.GPA>0?e("div",{staticClass:"mx-1 font-weight-black",domProps:{textContent:t._s("·")}}):t._e(),s.GPA&&s.GPA>0?e("div",{staticClass:"text-h7",domProps:{textContent:t._s("GPA "+s.GPA)}}):t._e()]),e("div",{staticClass:"d-flex text-h7 text--secondary",domProps:{innerHTML:t._s(t.formatDurationYears(s.StartYear,s.EndYear))}})]),e(r["a"],{staticClass:"mt-1"})],1)],1)],1)}))],2)],1)],1)],1)},it=[],rt={props:["user"],data(){return{loading:!0,eduLevelsNames:{smp:"Junior High School",sma:"High School",s1:"Bachelor / Associate",s2:"Master",other:"Other"},eduLevelsSelItems:[{value:"smp",text:"Junior High School"},{value:"sma",text:"High School"},{value:"s1",text:"Bachelor / Associate"},{value:"s2",text:"Master"},{value:"other",text:"Other"}],userEdus:{},userEdusOriginal:{},userEdusModes:{},newEdu:null,newEduOriginal:{UserID:this.user.ID,EducationLevel:null,SchoolName:null,StartYear:null,EndYear:null,GPA:null},newEduModes:{edit:!1,valid:!1,saving:!1},rules:{required:[t=>!!t||"Required."],isStartYear:[t=>!!t||"Required.",t=>t>=1900||"Too late",t=>t<=(new Date).getFullYear()||"Too early"],isEndYear:[t=>!(t&&t<=1900)||"Too late",t=>!(t&&t>=(new Date).getFullYear())||"Too early"],isGPA:[t=>!(t&&t<0)||"Too low",t=>!(t&&t>100)||"Too high"]}}},computed:{sortedUserEdus(){return Object.values(this.userEdus).sort((t,e)=>parseInt(e.StartYear)-parseInt(t.StartYear))}},created(){this.getUserEdus(),this.newEdu=_.cloneDeep(this.newEduOriginal)},methods:{async getUserEdus(){await fetch(this.dbPathUrl(["education","user",this.user.ID]),{headers:this.dbAuthHeaders}).then(t=>t.json().then(t=>{this.loading=!1,t.forEach(t=>{const e=parseInt(t.EndYear);this.$set(this.userEdus,t.ID,{...t,StartYear:parseInt(t.StartYear),EndYear:e>1?e:null}),this.$set(this.userEdusModes,t.ID,{edit:!1,valid:!0,saving:!1})}),this.userEdusOriginal=_.cloneDeep(this.userEdus)})).catch(t=>{this.loading=!1,this.showToast("error",["Error getting User Education History.",t.message])})},resetNewEducation(){this.newEdu=_.cloneDeep(this.newEduOriginal),this.newEduModes.edit=!1},async addNewEducation(){const t=crypto.randomUUID(),e={..._.cloneDeep(this.newEdu),ID:t};this.$set(this.userEdus,t,e),this.$set(this.userEdusModes,t,{edit:!1,valid:!0,saving:!1}),this.userEdusOriginal[t]=_.cloneDeep(e),this.resetNewEducation()},resetEducation(t){this.userEdus[t]=_.cloneDeep(this.userEdusOriginal[t]),this.userEdusModes[t].edit=!1},async editEducation(t){this.userEdusModes[t].saving=!0,this.userEdusOriginal[t]=_.cloneDeep(this.userEdus[t]),this.userEdusModes[t].saving=!1,this.userEdusModes[t].edit=!1},async deleteEducation(t){confirm("Are you sure?")&&(this.$delete(this.userEdus,t),this.$delete(this.userEdusOriginal,t))}}},ot=rt,lt=Object(U["a"])(ot,at,it,!1,null,"77718e94",null),nt=lt.exports,dt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"d-sm-none"},[e("div",{staticClass:"text-h4 primary--text font-weight-bold mx-2 mt-3"},[t._v("Certifications")]),e(r["a"])],1),t._v(" WIP ")])},ct=[],ut={},mt=ut,ht=Object(U["a"])(mt,dt,ct,!1,null,null,null),vt=ht.exports,pt={components:{BasicProfileTab:H,SkillTab:V,WorkingHistoryTab:st,EducationHistoryTab:nt,CertificationTab:vt},data(){return{loading:!0,result:null,user:null,tab:null}},created(){this.initialize()},methods:{async initialize(){await this.getUser(2)},async getUser(t){await fetch(this.dbPathUrl(["user",t]),{headers:this.dbAuthHeaders}).then(t=>t.json().then(e=>{if(this.result=this.formatResult(t,e),this.loading=!1,console.log(e[0]),null===e||void 0===e||!e.length)throw new Error("User not found");this.user={...e[0],Birth:this.formatDate(e[0].Birth)}})).catch(t=>this.showToast("error",["Error getting User.",t.message]))},updateUser(t){this.user=t}}},ft=pt,gt=(s("552e"),s("ecfec"),Object(U["a"])(ft,m,h,!1,null,"1f59e67a",null));e["default"]=gt.exports},"552e":function(t,e,s){"use strict";s("85d6")},8414:function(t,e,s){"use strict";s("0160");var a=s("58df"),i=s("7560");e["a"]=Object(a["a"])(i["a"]).extend({name:"v-timeline",provide(){return{timeline:this}},props:{alignTop:Boolean,dense:Boolean,reverse:Boolean},computed:{classes(){return{"v-timeline--align-top":this.alignTop,"v-timeline--dense":this.dense,"v-timeline--reverse":this.reverse,...this.themeClasses}}},render(t){return t("div",{staticClass:"v-timeline",class:this.classes},this.$slots.default)}})},"85d6":function(t,e,s){},a844:function(t,e,s){"use strict";s("1681");var a=s("8654"),i=s("58df");const r=Object(i["a"])(a["a"]);e["a"]=r.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...a["a"].options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{autoGrow(t){this.$nextTick(()=>{var e;t?this.calculateInputHeight():null===(e=this.$refs.input)||void 0===e||e.style.removeProperty("height")})},lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,s=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(s,e)+"px"},genInput(){const t=a["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){a["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},ecfec:function(t,e,s){"use strict";s("1a78")}}]);